<!DOCTYPE html>
<html
  lang="es"
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{base::Layout(~{::section})}"
>
  <head>
    <meta charset="UTF-8" />
    <title>Recuperar Contrase√±a | Electro Per√∫</title>
  </head>

  <body>
    <section class="py-5 min-vh-100 d-flex align-items-center bg-light">
      <div class="container">
        <div
          class="row justify-content-center shadow-lg rounded-4 overflow-hidden bg-white"
        >
          <!-- Imagen lateral -->
          <div class="col-md-6 d-none d-md-block p-0">
            <img
              src="img/eperu.png"
              alt="Electro Per√∫"
              class="img-fluid w-100 h-100"
              style="object-fit: cover"
            />
          </div>

          <!-- Formulario -->
          <div class="col-12 col-md-6 p-5">
            <div class="text-center mb-4">
              <h3 class="text-primary fw-bold mb-2">üîí Recuperar contrase√±a</h3>
              <p class="text-muted">
                Ingresa tu correo electr√≥nico para recibir un enlace de
                recuperaci√≥n.
              </p>
            </div>

            <!-- ‚úÖ Mensajes de √©xito o error -->
            <th:block th:if="${session.successMsg}">
              <div
                class="alert alert-success alert-dismissible fade show"
                role="alert"
              >
                <i class="fa-solid fa-circle-check me-1"></i>
                <span th:text="${session.successMsg}"></span>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
              <th:block
                th:text="${@commonServiceImpl.removeSessionMessage()}"
              ></th:block>
            </th:block>

            <th:block th:if="${session.errorMsg}">
              <div
                class="alert alert-danger alert-dismissible fade show"
                role="alert"
              >
                <i class="fa-solid fa-triangle-exclamation me-1"></i>
                <span th:text="${session.errorMsg}"></span>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
              <th:block
                th:text="${@commonServiceImpl.removeSessionMessage()}"
              ></th:block>
            </th:block>

            <!-- ‚úÖ Formulario -->
            <form action="/forgot-password" method="post" class="mt-4">
              <div class="mb-4">
                <label class="form-label fw-semibold">Correo electr√≥nico</label>
                <input
                  type="email"
                  name="email"
                  class="form-control form-control-lg"
                  placeholder="ejemplo@correo.com"
                  required
                />
              </div>
              <button type="submit" class="btn btn-primary w-100 py-2">
                Enviar enlace
              </button>
            </form>

            <div class="text-center mt-4">
              <a
                href="/signin"
                class="text-decoration-none text-primary fw-semibold"
                ><i class="fa-solid fa-arrow-left me-1"></i> Volver al inicio de
                sesi√≥n</a
              >
            </div>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>
