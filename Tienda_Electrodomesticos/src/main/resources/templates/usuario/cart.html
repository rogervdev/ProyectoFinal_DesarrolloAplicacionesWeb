<!DOCTYPE html>
<html
  lang="es"
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{base::Layout(~{::section})}"
>
  <head>
    <meta charset="UTF-8" />
    <title>Productos</title>
  </head>

  <body>
    <section>
      <div class="container-fluid px-5">
        <div class="card shadow-sm rounded-4 m-5">
          <!-- Header -->
          <div
            class="card-header bg-primary text-white text-center py-3 rounded-top"
          >
            <h4 class="mb-0">Listado de Pedido</h4>
          </div>

          <!-- Body -->
          <div class="card-body p-3">
            <!-- BotÃ³n regresar a admin -->
            <div class="mb-3">
              <a href="/productos" class="btn btn-secondary">
                <i class="fa-solid fa-arrow-left me-2"></i> Seguir Comprando
              </a>
            </div>

            <!-- Tabla de productos -->
			<div class="table-responsive shadow-sm rounded-4 mt-3">
			  <table class="table align-middle mb-0 table-hover">
			    <thead class="bg-dark text-white text-center">
			      <tr>
			        <th>#</th>
			        <th>Imagen</th>
			        <th>Producto</th>
			        <th>Precio Unitario</th>
			        <th>Cantidad</th>
			        <th>Total</th>
			      </tr>
			    </thead>
			    <tbody class="text-center align-middle">
			      <tr
			        th:each="cart, c : ${carts}"
			        class="border-bottom small hover-shadow-sm"
			      >
			        <td>[[${c.count}]]</td>
			        <td>
			          <img
			            th:src="@{'/img/product_img/' + ${cart.producto.imagen}}"
			            class="rounded-3 border"
			            style="width: 60px; height: 60px; object-fit: cover;"
			            alt="Imagen Producto"
			          />
			        </td>
			        <td class="fw-semibold text-capitalize">
			          [[${cart.producto.titulo}]]
			          <div class="text-muted small">[[${cart.producto.categoria.nombre}]]</div>
			        </td>
			        <td>S/ [[${cart.producto.precioConDescuento}]]</td>
			        <td>
			          <span class="badge bg-secondary px-3 py-2 fs-6">
			            [[${cart.cantidad}]]
			          </span>
			        </td>
			        <td class="fw-bold text-success">
			          S/ [[${cart.precioTotal}]]
			        </td>
			      </tr>
			    </tbody>
			    <tfoot class="table-light">
			      <tr>
			        <td colspan="4"></td>
			        <td class="fw-bold text-end">Total a pagar:</td>
			        <td class="fw-bold fs-5 text-success">
			          S/ [[${precioTotalOrdenes}]]
			        </td>
			      </tr>
			    </tfoot>
			  </table>
			</div>

          </div>
        </div>
      </div>
    </section>
  </body>
</html>
